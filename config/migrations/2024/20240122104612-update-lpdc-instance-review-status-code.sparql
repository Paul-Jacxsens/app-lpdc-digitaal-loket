DELETE DATA {
    GRAPH <http://mu.semte.ch/graphs/public> {
        <http://lblod.data.gift/concepts/5a3168e2-f39b-4b5d-8638-29f935023c83> a <http://www.w3.org/2004/02/skos/core#Concept>;
            <http://www.w3.org/2004/02/skos/core#inScheme> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
            <http://www.w3.org/2004/02/skos/core#prefLabel> "Public service needs review, concept has been updated.";
            <http://www.w3.org/2004/02/skos/core#topConceptOf> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
            <http://mu.semte.ch/vocabularies/core/uuid> "5a3168e2-f39b-4b5d-8638-29f935023c83".

        <http://lblod.data.gift/concepts/cf22e8d1-23c3-45da-89bc-00826eaf23c3> a <http://www.w3.org/2004/02/skos/core#Concept>;
            <http://www.w3.org/2004/02/skos/core#inScheme> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
            <http://www.w3.org/2004/02/skos/core#prefLabel> "Public service needs review, concept has been deleted.";
            <http://www.w3.org/2004/02/skos/core#topConceptOf> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
            <http://mu.semte.ch/vocabularies/core/uuid> "cf22e8d1-23c3-45da-89bc-00826eaf23c3".
    }
}

INSERT DATA {
    GRAPH <http://mu.semte.ch/graphs/public> {
       <http://lblod.data.gift/concepts/review-status/concept-gewijzigd> a <http://www.w3.org/2004/02/skos/core#Concept>;
           <http://www.w3.org/2004/02/skos/core#inScheme> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
           <http://www.w3.org/2004/02/skos/core#prefLabel> "Public service needs review, concept has been updated.";
           <http://www.w3.org/2004/02/skos/core#topConceptOf> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
           <http://mu.semte.ch/vocabularies/core/uuid> "5a3168e2-f39b-4b5d-8638-29f935023c83".

       <http://lblod.data.gift/concepts/review-status/concept-gearchiveerd> a <http://www.w3.org/2004/02/skos/core#Concept>;
           <http://www.w3.org/2004/02/skos/core#inScheme> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
           <http://www.w3.org/2004/02/skos/core#prefLabel> "Public service needs review, concept has been deleted.";
           <http://www.w3.org/2004/02/skos/core#topConceptOf> <http://lblod.data.gift/concept-schemes/effb1058-d469-4064-a7a6-9d98ba081962>;
           <http://mu.semte.ch/vocabularies/core/uuid> "cf22e8d1-23c3-45da-89bc-00826eaf23c3".
    }
};


DELETE {
    GRAPH ?bestuurseenheidGraph {
        ?instance <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/5a3168e2-f39b-4b5d-8638-29f935023c83> .
    }
}
INSERT {
    GRAPH ?bestuurseenheidGraph {
        ?instance <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/review-status/concept-gewijzigd> .
    }
}
WHERE {
    GRAPH ?bestuurseenheidGraph {
        ?instance a <http://purl.org/vocab/cpsv#PublicService> .
        ?instance <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/5a3168e2-f39b-4b5d-8638-29f935023c83> .
    }

    FILTER(
    STRSTARTS(STR(?bestuurseenheidGraph), "http://mu.semte.ch/graphs/organizations/") &&
    STRENDS(STR(?bestuurseenheidGraph), "/LoketLB-LPDCGebruiker")
    )
};

DELETE {
    GRAPH ?bestuurseenheidGraph {
        ?instance <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/cf22e8d1-23c3-45da-89bc-00826eaf23c3> .
    }
}
INSERT {
    GRAPH ?bestuurseenheidGraph {
        ?instance <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/review-status/concept-gearchiveerd> .
    }
}
WHERE {
    GRAPH ?bestuurseenheidGraph {
        ?instance a <http://purl.org/vocab/cpsv#PublicService> .
        ?instance <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/cf22e8d1-23c3-45da-89bc-00826eaf23c3> .
    }

    FILTER(
    STRSTARTS(STR(?bestuurseenheidGraph), "http://mu.semte.ch/graphs/organizations/") &&
    STRENDS(STR(?bestuurseenheidGraph), "/LoketLB-LPDCGebruiker")
    )
};

# DELETE orphan triples
DELETE {
    GRAPH ?bestuurseenheidGraph {
        ?s <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/5a3168e2-f39b-4b5d-8638-29f935023c83> .
    }
} WHERE {
     GRAPH ?bestuurseenheidGraph {
        ?s <http://mu.semte.ch/vocabularies/ext/reviewStatus> <http://lblod.data.gift/concepts/5a3168e2-f39b-4b5d-8638-29f935023c83> .
     }

      FILTER(
         STRSTARTS(STR(?bestuurseenheidGraph), "http://mu.semte.ch/graphs/organizations/") &&
         STRENDS(STR(?bestuurseenheidGraph), "/LoketLB-LPDCGebruiker")
      )
}
